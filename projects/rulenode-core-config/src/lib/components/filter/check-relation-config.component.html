<section [formGroup]="checkRelationConfigForm" class="tb-form-panel stroked no-padding-bottom">
  <div class="tb-form-panel-title" translate>tb.rulenode.relation-search-parameters</div>
  <div fxLayout="column">
    <mat-form-field class="mat-block" hideRequiredMarker>
      <mat-label>{{ 'relation.direction' | translate }}</mat-label>
      <mat-select formControlName="direction" required>
        <mat-option *ngFor="let direction of entitySearchDirection" [value]="direction">
          {{ entitySearchDirectionTranslationsMap.get(direction) | translate }} <span translate>tb.rulenode.relations-query-config-direction-suffix</span>
        </mat-option>
      </mat-select>
    </mat-form-field>
    <tb-relation-type-autocomplete
      required
      formControlName="relationType">
    </tb-relation-type-autocomplete>
    <div tb-hint-tooltip-icon="{{ 'tb.rulenode.check-relation-to-specific-entity-tooltip' | translate }}"
         class="tb-form-row no-border no-padding slide-toggle">
      <mat-slide-toggle class="mat-slide" formControlName="checkForSingleEntity">
        {{ 'tb.rulenode.check-relation-to-specific-entity' | translate }}
      </mat-slide-toggle>
    </div>
    <div *ngIf="checkRelationConfigForm.get('checkForSingleEntity').value" class="same-width-component-row">
      <tb-entity-type-select
        style="min-width: 100px; flex: 1;"
        showLabel
        required
        formControlName="entityType">
      </tb-entity-type-select>
      <tb-entity-autocomplete
        fxFlex
        required
        *ngIf="checkRelationConfigForm.get('entityType').value"
        [entityType]="checkRelationConfigForm.get('entityType').value"
        formControlName="entityId">
      </tb-entity-autocomplete>
    </div>
  </div>
</section>
